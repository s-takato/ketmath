<!DOCTYPE html>  
<html>  
<head>  
<meta charset="utf-8">  
<title>KeT-LMS</title>  
<script src="ketcindyjs/jquery.min.js"></script>  
<link rel="stylesheet" href="ketcindyjs/katex/katex11.min.css" />  
<script src="ketcindyjs/katex/katex11.min.js"></script>  
<script src="ketcindyjs/auto-render11.min.js"></script>  
<script>$(document).ready(function(){renderMathInElement(document.body,{delimiters: [{left: "[[", right: "]]", display: true},{left: "$", right: "$", display: false}]})});</script>  
<style type="text/css">
.size2  {width:400px; height:300px; }
ol li  {
  list-style: none;
}
ul li::before {
  content: "・";
}
</style>
</head>  
<body>  
<div style="padding: 50px">  
<p><font size="10">&emsp;KeT-LMSの使い方</font>  
<font size="6">&emsp;&emsp;&emsp;&emsp;2024-11-08</font></p> 
<!--<div style="text-align: center">
<img class="size2" src="ketmathscreen.png" alt="KeTMath画面">
</div>-->
<font size="5">
<ol>
<font size="6"><li>準備</font>
  <ol>
    <li>(1) ketcindyを最新版(4.5.xx)に更新する</li>
    <li>(1) <a href="https://github.com/s-takato/ketmath">ket-lms</a>をダウンロード
      <ul>
      <li>右下にあるReleases/Latestバージョンをクリック</li>
      <li>ダウンロードしたzipを解凍</li>
      <li>subject01を適当なフォルダに移動(名称を適宜変更)</li>
      <li>dataにstudent(y).txtとquestion(q-n).txtを入れる</br>
      &emsp;&emsp;yは年度など，q-nは問題記号(日付など)-問題番号</li>
     </ul>
    </li>
<!--
    <li>3. 複数のクラス(例えばA,B)があるとき
      <ul>
      <li>dataA,dataBを作る</li>
      <li>questionは同名でもよい</li>
      <li>toolketmathではdataのボタンクリックで切り替える</li>
     </ul>
    </li>
-->
  </ol>
<font size="6"><li>[1] question(q-n)ファイルの作成</font>
  <ol>
  <li>&emsp;&emsp;<a href="indexketlmsquesJ.html">KeT-LMSの課題ファイル</a>を参照</li>
  </ol>
<font size="6"><li>[2] Maximaによる正解のチェック<font color="blue">(オプション)</font>
  <ol>
  <li>(1) toolkemath.cdyを立ち上げる</li>
  <li>(2)「Mxansを作成」を選ぶ
    <ol>
    <li>&emsp;・2回押せば，強制実行</li>
    <li>&emsp;・<font color="red">ファイルを選べば（赤字になる）それだけが実行</font></li>
    <li>(i) 結果が表示され，dataの中にmxans(q-n).txtができる</li>
    <li>(ii) 確認してからリセットを押す</li>
   </ol>
  </ol>
<font size="6"><li>[3] kettaskの作成</font>
  <ol>
  <li>(1) toolkemath.cdyを立ち上げる</li>
  <li>(2)「1.tasklineを作成」を押す</li>
    <ol>
    <li>&emsp;・dataに1taskline(q-n).txtと2anssheet(q-n).txtができる</li>
    </ol>
  <li>(1)「2.kettaskに組込」を押す </li>
    <ol>
    <li>(1) orgvかorgvnr(ketmathルール表なし)を選ぶ</li>
    <li>(2) 実行するとkettask(q-n).htmlができる</li>
    <li>(3) urlを学生に配付</li>
    </ol>
  <li>注)「8.総括ファイル作成」を実行しておくと問題の確認に便利</br>
    &emsp;&emsp;&emsp;sumqueall(q-n).txt（問題データすべて）</br>
    &emsp;&emsp;&emsp;sumqueque(q-n).txt（問のみ）</br>
    &emsp;&emsp;&emsp;sumtable(q-n).csv（採点終了後では一覧表ができる） 
  </ol> 
<font size="6"><li>[4] kettaskへのketcindyjsスクリプトの埋め込み</font>
  <ol>
  <li>(1) スクリプトを記述した(q-n)draw.txtをembeddataに入れる</br>
    <ul>
     <li>Mvpt,Rmpt : 論理座標と物理座標の変換</li>
     <li>Mvdraw : 論理データを物理座標に変換して表示</li>
        &emsp;&emsp; Paramplot("1",..,["nodisp"]);</br>
        &emsp;&emsp; Mvdraw("gp1",["dr,1.5"]);</br>
     <li>Mvlist,Mvplotdata,Mvcircledata,Mvdrwxyは論理座標を変換</li>
        &emsp;&emsp;  Mvcircle("1",[[0,0],2],["Color=Red"]);</br>
     <li>幾何点やテキストを使ったときは，Embedの直前に「HTMLに書き出す」</li>
     <li>//で始まり最後に // add embed がついた行は，埋め込時に追加される</li>
        &emsp;&emsp; nquは問番号(1は大問)</br>
     <li>if(ketlibflg==1,...,ketlibflg=0;)は最初だけ実行されるコマンドを書く</li>
     </ul>
</li>
  <li>(2) toolembed.cdyの画面左上のボタンをDrawにする</li>
  <li>(3) <<, <, >, >> を押すと図ファイルを変更できる</li>
  <li>(4) O(原点), S(スケール)を動かして図の位置とスケールを決める</li>
  <li>(5) OS保存とGoを押すと，O, Sの位置が(q-n)drawos.txtに保存される</li>
  <li>(6) EmbedとGoを押すとkettaskv(q-n)d.htmlに埋め込まれる</li>
  <li>(7) AddボタンをRepに変えると，最後のファイルが置き換えられる</li>
  </ol>

<font size="6"><li>[5]  kettaskへのpngの組込み</font>
  <ol>
  <li>(1) drawdataに(q-n).pngを入れる</li>
  <li>(2) toolembed.cdyを立ち上げる</br>
    &emsp;&emsp;&emsp;エラー(1) HTMLに書き出す を実行</br>
    &emsp;&emsp;&emsp;エラー(2) kettaskv(q-n).を作っていない</br>
    &emsp;&emsp;&emsp;エラーを修正したらResetを押す </li>
  <li>(3) メディアブラウザに(q-n).pngを登録する</li>
  <li>(4) 上の左ボタンが Imagに変える</li>
  <li>5. ステップを3回押す</br>
    <ol>
    <li>&emsp;(1) (q-n).pngファイルから (q-n)png.txtを作成</li>
    <li>&emsp;(2) 図を表示</br>
    &emsp;&emsp;&emsp;・T3,Sを動かして中心位置とスケールを決める</br>
    &emsp;&emsp;&emsp;・Goを押すと，(q-n)script.txtを作成</li>
    <li>&emsp;(3) EmbedとGoを押すとkettaskv(q-n)i.htmlに埋め込まれる</li>
    </ol>
  </ol>
<font size="6"><li>[6] 回収データの処理</font>
  <ol>
  <li>(1) 回収した答案データをdata/anssheetallにコピーする</li>
  <li>(2) toolketmathの 3.anssheet分割 を選び，実行する</br>
  &emsp;&emsp;&emsp;問題ごとの2anssheet.txtにコピーされる</li>
  <li>(3) 4.scoreline+anschart を選び，実行する</br>
　　　(i) 4scoreline(q-n).txtがdataにできる</br>
　　　(ii) anschart(q-n).csvが作業(科目)フォルダにできる</br>
 &emsp;&emsp;&emsp;&emsp;&emsp;・式のコンマは : に変換される</br>
 &emsp;&emsp;&emsp;&emsp;&emsp;・各番号の右の欄に手作業で得点を入れてもよい</li>
  </ol>
  
<font size="6"><li>[7] Maximaによる採点<font color="red">(工事中)</font></font>
  <ol>
<!--  <li>4. ketscore組込 を選び，実行する</br>
&emsp;&emsp;&emsp;・ketscorev(q-n).htmlができる</br>
&emsp;&emsp;&emsp;・このファイルを開けば直接採点ができる</br>
&emsp;&emsp;&emsp;・採点が終わったらRecを押す</br>
&emsp;&emsp;&emsp;　　最下段のデータを4scoresheet(q-n).txtにコピーする</li>
-->
 <li>(1) 6.Maxima採点 を選ぶ（単独ならファイルをクリック）</br>
&emsp;&emsp;&emsp;(i) そのまま実行すると括弧の不整合をチェックしてエラー表示</br>
&emsp;&emsp;&emsp;(ii) エラーがなくなったら，ボタンを２度押してから実行する</br>
&emsp;&emsp;&emsp;・4scoresheet0422-9.txt が作成される</br>
&emsp;&emsp;&emsp;・anschart.csvに得点が書きこまる</li>
4_scoresheet(q-n)ができる
  <li>6. ketscore(q-n).htmlを立ち上げる</br>
  &emsp;&emsp;&emsp;  4_scoresheetI(q-n)の中身を最下欄にコピー</br>
  </li>
  <li>7. st, pgを動かして，得点を確認修正する</br>
  &emsp;&emsp;&emsp;・コメントは，点数のあとに :: をつけて書く</li>
  <li>8. Rec を押し，最下欄の行を4_scoresheetの2行目にコピー</br>
  &emsp;&emsp;&emsp;・Maxima採点しないときは，4scoresheetallにコピー  
  </li>
  <li>9. scoresheet分割 を押すと，問題別の4scoresheet(q-n).txtができる</li>
  </ol>
<font size="6"><li>[8] 返却と集計</font>
  <ol>
  <li>1. 8と9のボタンで学生ごとの成績票を作成する</li>
  <li>2. 11を押すと，Dropboxの学生ごとのフォルダにコピーされる</li>
  <li>3. 10の総括ファイル を押すと，成績一覧表ができる．</li>
  </ol>
  
</ol>
</font>
</body>  
</html>  
