<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    
    <title>tooldraw001.cdy</title>
    <style type="text/css">
        * {
            margin: 0px;
            padding: 0px;
        }
        
        #CSConsole {
            background-color: #FAFAFA;
            border-top: 1px solid #333333;
            bottom: 0px;
            height: 200px;
            overflow-y: scroll;
            position: fixed;
            width: 100%;
        }
    </style>
    <link rel="stylesheet" href="https://cindyjs.org/dist/v0.8/CindyJS.css">
    <script type="text/javascript" src="https://cindyjs.org/dist/v0.8/Cindy.js"></script>
    <script type="text/javascript" src="https://cindyjs.org/dist/v0.8/KetCindyPlugin.js"></script>
<script id="csinit" type="text/x-cindyscript">
//KETlib
use("KetCindyPlugin");
Dircdy=loaddirectory;
setdirectory(gethome());
import("ketcindy.ini");

typeflg=0;
startflg=1;

posyL=[23,-3.3,-35];
poskey=[19.5,-17.67]; 

tmp=[59.1,-6.7];
tmp2=["if(ch==2,nf=1,n1=1);",
      "if(ch==2,nf=max([1,nf-1]),n1=max([1,n1-1]));",
      "if(ch==2,nf=min([nfall,nf+1]),n1=min([n1all,n1+1]));",
      "if(ch==2,nf=nfall,n1=n1all);"];
forall(1..4,
  Settextkey(204+#,[tmp_1+(#-1)*4.3,0.8],"　　",tmp2_(#),14);
);

Sortsel(fLorg,key):=(
  regional(fL,tmp,tmp1,tmp2,head,tail,nL,out);
  fL=fLorg;
  tmp=length(key);
  if(tmp>0,
    fL=select(fLorg,substring(#,0,tmp)==key);
  );
  tmp1=indexof(fL_1,"-");
  head=substring(fL_1,0,tmp1);
  nL=[];
  forall(fL,
    tmp2=indexof(#,".");
    if(tmp2>0,
      tail=substring(#,tmp2-1,length(#));
      tmp=substring(#,length(head),tmp2-1);
    ,
      tail="";
      tmp=substring(#,tmp1,length(#));
    );      
    nL=append(nL,parse(tmp));
  );
  nL=sort(nL);
  out=apply(nL,head+#+tail);
  out;
);

////%Keytable start////
Keytable(nx,dx,ny,dy,plb,clr):=
  Keytable(nx,dx,ny,dy,plb,clr,[],0,22); //210629
Keytable(nx,dx,ny,dy,plb,clr,nameL,nmove,sz):=( //230406
  // Keytable(5,20,3,10,....)
  // Keytable(0,dxL,0,dyL,...)
  regional(xL,yL,plt,prt,prb,row,col,name,tmp,tmp2,pos);
  if(nx>0,  //211012from
    xL=apply(0..nx,#/10*dx+plb_1);
  ,
    xL=[plb_1];
    forall(dx,
      tmp=xL_(-1)+#/10;
      xL=append(xL,tmp);
    );
  );
  if(ny>0,
    yL=apply(0..ny,(ny-#)/10*dy+plb_2);
  ,
    yL=[plb_2];
    forall(dy,
      tmp=yL_(-1)+#/10;
      yL=append(yL,tmp);
    );
  );  //211012to
  plt=[xL_1,yL_1]; prt=[xL_(-1),yL_1]; prb=[xL_(-1),yL_(-1)];
  if(clr!=0,//shade==1, 230406
    fillpoly([plb,plt,prt,prb,plb],color->clr);
  );
  forall(xL,draw([#,plb_2],[#,plt_2],color->[0,0,0]));
  forall(yL,draw([plb_1,#],[prb_1,#],color->[0,0,0]));
  if(length(nameL)>0,
    forall(1..(length(yL)-1),row,
      tmp1=yL_row;
      tmp2=yL_(row+1);
      pos=[0,(tmp1+tmp2)/2];
      forall(1..(length(xL)-1),col,
        name=nameL_row_col;
        tmp1=xL_col;
        tmp2=xL_(col+1);
        pos_1=(tmp1+tmp2)/2;
        tmp=indexof(name,",");
       drawtext(pos+nmove,name,align->"mid",size->sz);
      );
    );
  );
);
////%Keytable end////


CtrkeyL=[
  [["PS","PL","AC","CL","BS"]],
  [["Cap"],["Gre"],["Bld"],["Vec"]],
  [["Cal"],["Lin"],[""]],
  [["Rec"]],
  [["＜","","＞"]],
  [["$<\!<$","$<$","$>$","$>\!>$"]]
];

Keyname():=(
  regional(nL,nL2,nL3,tmp1);
  nL=[
    ["a","b","c","sin","sq",")","7","8","9","＋"],
    ["x","y","z","cos","fr",",","4","5","6","ー"],
    ["r","s","t","tan","tfr","(","1","2","3","＊","'"],
    ["w","_","=","log","ln","^","0",".","sp","／"]
  ];
  nL2=[
    ["°","＠","[","]","|","d","e","f","g","lim","pi"],
    ["$\times$","!","{","}","$\neq$","h","i","j","k","int","$\infty$"],
    ["dot",":",";","$\leq$","$\geq","l","m","n","o","'","cs"],
    ["\","$\pm$","$\mp$","<",">","p","q","u","v","sum","tx"]
  ];
  
  if(Shift==1,
    nL2_3_11="$d$"; nL2_4_10="$[.]_{}^{}$"; nL2_4_11="$\partial$";
  );
  if(Shift==2,
    nL2_1_10="mat"; nL2_2_10="det"; nL2_4_11="$\circ$";
  );

  if(keytype==2,
    tmp1=["A","B","C"]; forall(1..3,nL_1_(#)=tmp1_#);
    tmp1=["D","E","F","G"]; forall(1..4,nL2_1_(#+5)=tmp1_#);
    tmp1=["X","Y","Z"]; forall(1..3,nL_2_(#)=tmp1_#);
    tmp1=["H","I","J","K"]; forall(1..4,nL2_2_(#+5)=tmp1_#);
    tmp1=["R","S","T"]; forall(1..3,nL_3_(#)=tmp1_#);
    tmp1=["L","M","N","O"]; forall(1..4,nL2_3_(#+5)=tmp1_#);
    tmp1=["W"]; forall(1..1,nL_4_(#)=tmp1_#);
    tmp1=["P","Q","U","V"]; forall(1..4,nL2_4_(#+5)=tmp1_#);
  );
  if(keytype==3,
    tmp1=["$\alpha$","$\beta$","$\gamma$"];
    forall(1..3,nL_1_(#)=tmp1_#);
    tmp1=["$\Delta$","$\delta$","$\varepsilon$","$\varphi$"];
    forall(1..4,nL2_1_(#+5)=tmp1_#);
    tmp1=["$\kappa$","$\iota$","$\zeta$"];
    forall(1..3,nL_2_(#)=tmp1_#);
    tmp1=["$\Theta$","$\theta$","$\chi$","$\xi$"];
    forall(1..4,nL2_2_(#+5)=tmp1_#);
    tmp1=["$\rho$","$\sigma$","$\tau$"];
    forall(1..3,nL_3_(#)=tmp1_#);
    tmp1=["$\lambda","$\mu$","$\nu$","$\omega$"];
    forall(1..4,nL2_3_(#+5)=tmp1_#);
    tmp1=["$\Omega$"];
    forall(1..1,nL_4_(#)=tmp1_#);
    tmp1=["$\Psi$","$\psi$","$\Phi$","$\Lambda$"];
    forall(1..4,nL2_4_(#+5)=tmp1_#);
  );
  if(keytype==4,
    tmp1=apply(["a","b","c"],"$\mathbf{"+#+"}$");
    forall(1..3,nL_1_(#)=tmp1_#);
    tmp1=apply(["d","e","f","g"],"$\mathbf{"+#+"}$");
    forall(1..4,nL2_1_(#+5)=tmp1_(#));
    tmp1=apply(["x","y","z"],"$\mathbf{"+#+"}$");
    forall(1..3,nL_2_(#)=tmp1_#);
    tmp1=apply(["h","i","j","k"],"$\mathbf{"+#+"}$");
    forall(1..4,nL2_2_(#+5)=tmp1_#);
    tmp1=apply(["r","s","t"],"$\mathbf{"+#+"}$");
    forall(1..3,nL_3_(#)=tmp1_#);
    tmp1=apply(["l","m","n","o"],"$\mathbf{"+#+"}$");
    forall(1..4,nL2_3_(#+5)=tmp1_#);
    tmp1=apply(["w"],"$\mathbf{"+#+"}$");
    forall(1..1,nL_4_(#)=tmp1_#);
    tmp1=apply(["p","q","r","s"],"$\mathbf{"+#+"}$");
    forall(1..4,nL2_4_(#+5)=tmp1_#);
  );
  if(keytype==5,
    tmp1=apply(["a","b","c"],"$\vec{"+#+"}$");
    forall(1..3,nL_1_(#)=tmp1_#);
    tmp1=apply(["d","e","f","g"],"$\vec{"+#+"}$");
    forall(1..4,nL2_1_(#+5)=tmp1_(#));
    tmp1=apply(["x","y","z"],"$\vec{"+#+"}$");
    forall(1..3,nL_2_(#)=tmp1_#);
    tmp1=apply(["h","i","j","k"],"$\vec{"+#+"}$");
    forall(1..4,nL2_2_(#+5)=tmp1_#);
    tmp1=apply(["r","s","t"],"$\vec{"+#+"}$");
    forall(1..3,nL_3_(#)=tmp1_#);
    tmp1=apply(["l","m","n","o"],"$\vec{"+#+"}$");
    forall(1..4,nL2_3_(#+5)=tmp1_#);
    tmp1=apply(["w"],"$\vec{"+#+"}$");
    forall(1..1,nL_4_(#)=tmp1_#);
    tmp1=apply(["p","q","r","s"],"$\vec{"+#+"}$");
    forall(1..4,nL2_4_(#+5)=tmp1_#);
  );
  [nL,nL2];
);

poskey=[19.5,-17.67]; 
Setkeytable():=(
//Setwindow([-20,65],[-17,15]);
//Setwindow([-20,65],[-17,15]);
  nameL=Keyname();
  Keytable(10,43,4,33,poskey,[1,1,0],nameL_1,[0,-0.5],21);
  tmp=poskey+[0,-14];
  Keytable(11,43,4,33,tmp,[1,1,0],nameL_2,[0,-0.5],21);
  tmp=[poskey_1-4.3,-0.1];
  Keytable(5,43,1,33,tmp,0,CtrkeyL_1,[0,-0.5],21);
  tmp=[poskey_1+9*4.3,-0.1];
  Keytable(4,43,1,33,tmp,0,CtrkeyL_6,[0,-0.5],21);
  tmp=poskey-[4.3,0];
  Keytable(1,43,4,33,tmp,0,CtrkeyL_2,[0,-0.5],21);
  tmp=poskey+[4.3*10,2*3.3];
  Keytable(1,43,2,33,tmp,0,CtrkeyL_3,[0,-0.5],21);
  tmp=[poskey_1+4*4.3,-0.1];
  Keytable(0,[46,100,46],1,33,tmp,0,CtrkeyL_5,[0,-0.5],21);
  tmp=poskey+[-4.3,-14];
  Keytable(1,43,1,33,tmp,0,CtrkeyL_4,[0,-0.5],21);
);

Embeddraw(fdr,ftask):=(
  regional(drwL,taskL,Obkup,Sbkup,LineL,LineL1,LineL2,
     TlineL,tfile,fid,tmp,tmp1,tmp2,tmp3,tmp4);
  drwL=Readlines(Dirdrw,fdr);
  LineL=Readlines(Dircdy,ftask);
  tmp=Filelist(Dircdy);
//  tmp1=select(tmp,indexof(#,"json")>0);
//  tmp2=select(tmp,indexof(#,"jsoffL")>0);
//  if(length(tmp1)>0,tfile=tmp1_1);
//  if(length(tmp2)>0,tfile=tmp2_1);
//  tmp1=select(tmp,indexof(
    tfile=Cdyname()+".html";
  TlineL=Readlines(Dircdy,tfile);
  Obkup=O.xy;
  Sbkup=S.xy;
  Putpoint("O",[200,0]);
  Putpoint("S",[200,1]);
//  setdirectory(Dircdy);
  tmp1=select(1..(length(LineL)),
        indexof(LineL_#,Dqq("csdraw"))>0);
  tmp1=tmp1_1;
  tmp=select((tmp1-10)..tmp1,
         indexof(LineL_#,"</"+"script"+">")>0);
  tmp1=tmp_(-1);
  LineL1=LineL_(1..(tmp1-1));
  LineL=LineL_(tmp1..(length(LineL)));
  tmp1=select(1..(length(TlineL)),
          indexof(TlineL_#,"l"+"inestart=1")>0);
  tmp1=tmp1_1;
  tmp2=select(tmp1..(length(TlineL)),
       indexof(TlineL_#,"l"+"ineend=1")>0);
  tmp2=tmp2_1;
  tmp=TlineL_((tmp1+1)..(tmp2-1));
  LineL1=concat(LineL1,tmp);
  tmp2=select(1..10,
         indexof(LineL_#,"Ketinit")>0);
  tmp2=tmp2_1;
  tmp=LineL_(1..tmp2);
  LineL1=concat(LineL1,tmp);
  LineL=LineL_((tmp2+1)..(length(LineL)));
  tmp1=replace(ftask,".html","os.txt");
  tmp=Readlines(Dirdrw,tmp1);
  LineL1=concat(LineL1,tmp);
  LineL1=concat(LineL1,drwL);
  tmp1=select(1..(length(LineL)),
         indexof(LineL_#,"g"+"eometry:")>0);
  tmp1=tmp1_1;
  tmp2=select((tmp1+1)..(length(LineL)),
         indexof(LineL_#,"p"+"orts:")>0);
  tmp2=tmp2_1-1;
  tmp=LineL_(1..tmp1);
  LineL1=concat(LineL1,tmp);
  LineL2=LineL_((tmp1+1)..(tmp2));
  LineL=LineL_((tmp1+1)..(length(LineL)));
  tmp1=select(1..(length(TlineL)),
         indexof(TlineL_#,"g"+"eometry: ")>0);
  tmp1=tmp1_1+1;
  tmp2=select((tmp1)..(length(TlineL)),
         indexof(TlineL_#,"p"+"orts: ")>0);
  tmp2=tmp2_1-1;
  TlineL=TlineL_(tmp1..tmp2);
  tmp3=[];
  forall(LineL2,
    if(indexof(#,"{name")>0,
	    tmp1=Indexall(#,Dq);
	    tmp2=substring(#,tmp1_1,tmp1_2-1);
	    tmp3=append(tmp3,tmp2);
	  );
  );
  tmp3=concat(tmp3,["O","S"]);
  forall(TlineL,
    if(indexof(#,"{name")>0,
	    tmp1=Indexall(#,Dq);
	    tmp2=substring(#,tmp1_1,tmp1_2-1);
	    if(indexof(tmp2,"Text")>0,
        tmp=replace(tmp2,"Text","");
	  	  tmp=parse(tmp);
	    	if(tmp<400,
		      tmp2=tmp3_1;
	    	);
      );
	  if(!contains(tmp3,tmp2),
	    LineL=prepend(#,LineL);
	  );
	);
  );
  LineL=concat(LineL1,LineL);
  setdirectory(Dircdy);
  tmp=replace(ftask,".html","dr.html");
  fid=openfile(tmp);
  forall(LineL,
    println(fid,#);
  );
  closefile(fid);
  Putpoint("O",Obkup);
  Putpoint("S",Sbkup);
);

Setinit(nq):=(
  File=FileL_nq;
  subsedit(2,File);
  tmp1=format(Center,2)+";";
  tmp2=format(Scale,2)+";";
  println("  Center="+tmp1);
  println("  Scale="+tmp2);
);

Makescriptfile(dir,fscr):=(
  regional(lbs,lbf,script,tmp,tmp1,fid);
  //global dispL,Scale,B,A1,A2,S
  lbfx=50;
  lbfy=3;
  tmp1="drawimage(";
  tmp1=tmp1+format(O.xy,2)+",";
  tmp=replace(fscr,"image.txt",".png");
  tmp1=tmp1+Dqq(tmp)+",scale->";
  script=tmp1+format(Scale,2)+");";
  tmp1="Center="+format(O.xy,2)+";";
  tmp1=tmp1+"Scale="+format(Pt2sc(S.x),2)+";";
  setdirectory(dir);
  fid=openfile(fscr);
  println(fid,script);
  println(fid,tmp1);
  closefile(fid);
);

Setimginit():=(
  regional(tmp,tmp1);
  //global typeL,Dirpng,Date,FileL
//  tmp=T3.x+40;
//  Putpoint("O",[tmp,T3.y]);
  typeL=["png->txt","image.txt","img2html"];
  tmp=Filelist(Dirdrw);
  FimL=select(tmp,indexof(#,".png")>0);
  nfiall=length(FimL);
  tmp=apply(FimL,replace(#,".png",""));
  tmp=text(tmp);
  tmp=substring(tmp,1,length(tmp)-1);
  Subsedit(1,tmp);
  tmp=apply(FimL,replace(#,"kettaskv",""));
  tmp1=apply(tmp,indexof(#,"."));
  nameL=apply(1..(length(tmp)),
           substring(tmp_#,0,tmp1_#-1));
  if(length(nameL)>0,
    tmp1=indexof(nameL_1,"-");
    Date=substring(nameL_1,0,tmp1-1);
    tmp1=apply(nameL,replace(#,Date+"-",""));
    tmp1=text(tmp1);
    tmp=substring(tmp1,1,length(tmp1)-1);
  );
);

Setdrwinit():=(
  regional(tmp,tmp1,tmp2);
  //global Dirdrw,FileL,nfall,nameL,Date
  inspect(Text15,"text.text","OS保存");
  tmp=apply(FileL,replace(#,"kettaskv",""));
  tmp1=apply(tmp,indexof(#,"."));
  nameL=apply(1..(length(tmp)),
           substring(tmp_#,0,tmp1_#-1));
  tmp1=indexof(nameL_1,"-");
  Date=substring(nameL_1,0,tmp1-1);
  tmp1=apply(nameL,replace(#,Date+"-",""));
  tmp1=text(tmp1);
  tmp=substring(tmp1,1,length(tmp1)-1);
  Subsedit(1,tmp);
);

Writecenterscale(fname):=(
  regional(tmp);
  tmp=replace(fname,".html","os.txt");
  setdirectory(Dirdrw);
  fid=openfile(tmp);
  println(fid,"Center="+format(O.xy,3)+";");
  println(fid,"Scale="+format(Pt2sc(S.xy),3)+";");
  println(fid,"Putpoint("+Dqq("O")+",Center);");
  println(fid,"Putpoint("+Dqq("S")+",Sc2pt(Scale));");
  closefile(fid);
);

Setcenterscale(fname):=(
  regional(tmp);
  tmp=replace(fname,".html","os.txt");
  if(!isexists(Dirdrw,tmp),
    Writecenterscale(tmp);
  );
  setdirectory(Dirdrw);
  import(tmp); //no ketjs
);



linestart=1;

Mvpt(pt):=(
 Scale*pt+Center;
);

Rmpt(mpt):=(
 (mpt-Center)/Scale;
);

Pt2sc(pt):=(
  regional(sx);
  if(ispoint(pt),sx=pt.x,sx=pt_1);
  2^(1/5*(sx-35));
);

Sc2pt(sc):=(
  regional(sx);
  sx=5*log(sc)/log(2)+35;
  [sx,4];
);

Mvdraw(num,opt):=(
  regional(pltL,out,tmp,tmp1);
  pltL=parse(num);
  if(length(pltL)==1,
    Pointdata("-m"+num,ptL,opt);
  ,
    out=apply(pltL,Mvpt(#));
    Listplot("-m"+num,out,append(opt,"Msg=y"));
  );
  out;
);

lineend=1;

;

</script>
<script id="csdraw" type="text/x-cindyscript">
//figures
//20230529
//20230515
Ketinit(1.5);
Dirdrw=Dircdy+"drawdata";

Center=O.xy;
Scale=Pt2sc(S.xy);

if(startflg==1,
//  imdrflg=1; startimflg=1;
  imdrflg=1; startimlg=1;
  tmp1=Filelist(Dircdy);//no ketjs
  tmp2=select(tmp1,indexof(#,Cdyname()+".html")>0);
  tmp1=select(tmp1,indexof(#,"kettaskv")>0);
  tmp1=select(tmp1,indexof(#,"dr.html")==0);
  if((length(tmp1)>0)&(length(tmp2)>0),
    FtaskL=Sortsel(tmp1,"kettaskv");
    nftall=length(FtaskL);
    nf=1;
    okflg=0;
    Ftask=FtaskL_nf;
    startimflg=1;
    startdrflg=1;
    typeflg=0;
    pngflg=0;
    okflg=0;
    scriptflg=0;
    insertflg=0;
    drawflg=0;
    Subsedit(1,"");
    Subsedit(2,"");
    Putpoint("T1",[15.5,17.4]);
    Putpoint("T3",[15.5,11]);
    Putpoint("T4",[15.5,7.8]);
    Putpoint("S",[35,4]);
    Putpoint("O",[58,12]);
    chpL=[[9.4,23.8],[9.4,-2.5]];
    ch=2;
    goflg=1;
  ,
    goflg=0;
    if(length(tmp1)==0,goflg=-1);
  );
  startflg=0;
);
//Slider("C",Mvpt([1,0]),Mvpt([3,0]));
inspect(C,"ptsize",6); //no ketjs
if(goflg<=0,
  drawtext(T1.xy+[3,0],"Export "+Cdyname()+"*.html",
              size->20,color->[1,0,0]);
  if(goflg==-1,
    drawtext(T2.xy+[3,0],"ketataskv*.html not found",
         size->20,color->[1,0,0]);
  );
);
if(goflg==1,
  Putpoint("W",chpL_ch);
);

//T2.x=T1.x; T4.x=T3.x;
Setkeytable();
//Subsedit(2,File);
Putpoint("O",[58,12],O.xy);
Slider("S",[15,4],[55,4]);
Putpoint("T3",[15.5,11.4],T3.xy);
Putpoint("T4",[15.5,7.8],T4.xy);

if(imdrflg==1,
  inspect(Text12,"text.text","Imag");
  if(startimflg==1,
    inspect(Text15,"text.text","ステップ");
    Setimginit();
    tmp=Filelist(Dircdy);
    tmp2=Cdyname()+".html";
    tmp1=select(tmp,indexof(#,tmp2)>0);
    if(length(tmp1)==0,
      drawtext(T1.xy+[3,0],
         "Export to html",
           size->20,color->[1,0,0]);
    );
    tmp=Filelist(Dirdrw);
    FimL=select(tmp,indexof(#,".png")>0);
    nifall=length(FimL);
    if(nifall==0,
      drawtext(T3.xy+[3,0],
         "(Date-No).png not found",
             size->20,color->[1,0,0]);
    ,
      tmp1=apply(FimL,replace(#,".png",""));
      FimtaL=[];
      forall(tmp1,fi,
        tmp=select(FtaskL,indexof(#,fi)>0);
        if(length(tmp)>0,
          FimtaL=append(FimtaL,tmp_1);
        );
      );
    );
    if(length(FimtaL)>0,
      Fimta=FimtaL_nf;
      Subsedit(2,Fimta);
    );
    okflg=0;
    nf=1;
    nfnow=0;
    startimflg=0;
  );
  if(typeflg>=1,
    tmp=typeL_(typeflg);
    inspect(Text15,"text.text",tmp);
    if(typeflg==1,pngflg=1;scriptflg=0;insertflg=0);
    if(typeflg==2,pngflg=0;scriptflg=1;insertflg=0);
    if(typeflg==3,pngflg=0;scriptflg=0;insertflg=1);
  );

  if(pngflg==1,
  //  メディアブラウザに登録
  //「HTMLに書き出し」
    filein=Namecdy+".html";
    data=Readlines(Dircdy,filein);
    start=select(1..(length(data)),
           indexof(data_#,"images:")>0);
    start=start_1;
    dline=select((start+1)..(length(data)),
           indexof(data_#,"data:image")>0);
    dline=select(dline,indexof(data_#,"indexof")==0);
    out=[];
    dout=[];
    forall(dline,
      tmpd=data_#;
      if(tmpd_(-1)==",",
        tmpd=substring(tmpd,0,length(tmpd)-1);
      );
      tmp1=indexof(tmpd,Dq);
      tmp2=indexof(data_#,":")-2;
      tmp=substring(tmpd,tmp1,tmp2);
      dout=append(dout,replace(tmp,".png",""));
      out=append(out,[tmp,tmpd]);
    );
    fnameL=Sortsel(dout,"");
    tmp=text(fnameL);
    tmp=substring(tmp,1,length(tmp)-1);
    Subsedit(1,tmp);
    if(okflg==1,
      forall(fnameL,fn,
        tmp=select(1..(length(out)),
               indexof(out_#_1,fn)>0);
        tmp=tmp_1;
        tmp1=out_tmp_2;
        fname=fn+"png.txt";
        setdirectory(Dirdrw);
        fid=openfile(fname);
        println(fid,tmp1);
        closefile(fid);
      );
      okflg=0;
      pngflg=0;
    );
  );

  if(scriptflg==1,
    fL=Filelist(Dirdrw);
    fL=select(fL,indexof(#,".png")>0);
    fL=select(fL,indexof(#,"-")>0);
    pngL=Sortsel(fL,"");
    tmp=text(pngL);
    tmp=replace(tmp,".png","");
    tmp=substring(tmp,1,length(tmp)-1);
    fname=pngL_nf;
    subsedit(1,text(tmp));
    subsedit(2,fname);
    fhead=replace(fname,".png","");
    fscr=fhead+"image.txt";
    if(nf!=nfnow,
      if(isexists(Dirdrw,fscr),
        setdirectory(Dirdrw);
        import(fscr);
        Putpoint("S",Sc2pt(Scale));
        Putpoint("O",Center);
        Putpoint("T3",[O.x-40,O.y]);
      ,
        Scale=Pt2sc(S.xy);
        Putpoint("O",[T3.x+40,T3.y]);
        Center=O.xy;
        drawimage(Center,fname,scale->Scale);
      );
      nfnow=nf;
    );
    Slider("S",[15,4],[55,4]);
    Scale=Pt2sc(S.xy);
    Putpoint("T3",[O.x-40,O.y],T3.xy);
    Putpoint("O",[T3.x+40,T3.y]);
    Putpoint("O",[50,10],O.xy);
    drawimage(O.xy,fname,scale->Scale);
    if(okflg==1,
      Makescriptfile(Dirdrw,fscr);
      okflg=0;
      scriptflg=0;
    );
  );

  if(insertflg==1,
    fL=Filelist(Dircdy);
    fL=select(fL,indexof(#,".html")>0);
    fL=select(fL,indexof(#,"dr.html")==0);
    fL=select(fL,indexof(#,"kettaskv")>0);
    fL=select(fL,indexof(#,"-")>0);
    fnameL=Sortsel(fL,"");
    fL=Filelist(Dirdrw);
    fL=select(fL,indexof(#,".txt")>0);
    fL=select(fL,indexof(#,"image")>0);
    tmp1=apply(fL,replace(#,Date+"-",""));
    tmp1=apply(tmp1,replace(#,"image.txt",""));
    tmp1=apply(tmp1,parse(#));
    tmp1=sort(tmp1);
    scrL=apply(tmp1,Date+"-"+#+"image.txt");
    fnameL=[];
    forall(scrL,scr,
      tmp=replace(scr,"image.txt","");
      tmp="kettaskv"+tmp+".html";
      fnameL=append(fnameL,tmp);
    );
    if(okflg==1,
      forall(1..(length(fnameL)),nn,
        fname=fnameL_nn;
        scr=scrL_nn;
        data=Readlines(Dircdy,fname);
        line=Select(1..(length(data)),
                 indexof(data_#,"csconsole:")>0);
        line=line_1;
        data1=data_(1..line);
        data2=data_((line+1)..(length(data)));
        tmp=fpng+".png";
        tmp=select(1..(length(data2)),
                 indexof(data2_#,tmp)>0);
        if(length(tmp)>0,
          tmp=tmp_1;
          tmp1=data2_(1..(tmp-1));
          data1=concat(data1,tmp1);
          data2=data2_((tmp+1)..(length(data2)));
        );
        tmp1=indexof(fname,"-");
        tmp2=indexof(fname,".");
        fpng=substring(fname,tmp1-5,tmp2-1);
        fpng=replace(fpng,"nr","");
        tmp=fpng+"png.txt";
        png=Readlines(Dirdrw,tmp);
        tmp="  images: {";
        tmp1=select(data1,indexof(#,tmp)>0);
        if(length(tmp1)==0,
          data1=append(data1,"  images: {");
          data2=prepend("  },",data2);
        );
        data2=concat(png,data2);
        line=select(1..(length(data1)),
                indexof(data1_#,"Ketinit(")>0);
        line=line_(-1);
        data1a=data1_(1..line);
        data1b=data1_((line+1)..(length(data1)));
        tmp=fpng+"image.txt";
        if(isexists(Dirdrw,tmp),
          script=Readlines(Dirdrw,tmp);
          script=script_1;
        ,
          tmp="drawimage([40,0],";
          script=tmp+Dqq(fpng+".png")+",scale->2);";
        );
        if(indexof(data1b_1,fpng+".png")>0,
            data1b=data1b_(2..(length(data1b)));
        );
        data1=append(data1a,script);
        data1=concat(data1,data1b);
        data=concat(data1,data2);
        setdirectory(Dircdy);
        fname=replace(fname,".html","dr.html");
        fid=openfile(fname);
        forall(data,
          println(fid,#);
        );
        closefile(fid);
      );
      okflg=0;
      insertflg=0;
    );
  );
); //end imdrflg==1

if(imdrflg==2,
// offLを作成しておく
  inspect(Text12,"text.text","Draw");
  if((startdrflg==1)&(goflg==1),
    Setdrwinit();
    tmp=Filelist(Dircdy);
    tmp2=Cdyname()+".html";
    tmp1=select(tmp,indexof(#,tmp2)>0);
    if(length(tmp1)==0,
      drawtext(T1.xy+[3,0],
         "Export to html",
           size->20,color->[1,0,0]);
    );
    tmp=Filelist(Dirdrw);
    FdrL=select(tmp,indexof(#,"draw.txt")>0);
    if(length(FdrL)==0,
      drawtext(T3.xy+[3,0],
         "(Date-No)draw.txt not found",
           size->20,color->[1,0,0]);
    ,
      tmp1=indexof(FdrL_1,"-");
      tmp2=indexof(FdrL_1,"draw.txt");
      tmp3=substring(FdrL_1,0,tmp1);
      tmp=apply(FdrL,substring(#,tmp1,tmp2-1));
      tmp=apply(tmp,parse(#));
      tmp=sort(tmp);
      FdrL=apply(tmp,tmp3+#+"draw.txt");
      nfall=length(FdrL);
    );
    nf=1;
    nfnow=0;
    startdrflg=0;
  );
  if(goflg==1,
    tmp=apply(FdrL,replace(#,".txt",""));
    tmp=text(tmp);
    Subsedit(1,substring(tmp,1,length(tmp)-1));
    Fdr=FdrL_nf;
    tmp=replace(Fdr,"draw.txt","");
    tmp=select(FtaskL,indexof(#,tmp)>0);
    if(length(tmp)>0,
      Ftask=tmp_1;
    ,
      Ftask="";
    );
    Subsedit(2,Ftask);
    if(typeflg>0,
      Writecenterscale(Ftask);
      typeflg=0;
    );
    if(nf!=nfnow,
      Setcenterscale(Ftask);
      nfnow=nf;
    );
    Putpoint("O",[58,12],O.xy);
    Slider("S",[15,4],[55,4]);
    Center=O.xy;
    Scale=Pt2sc(S.xy);
    setdirectory(Dirdrw);
    import(Fdr);
    if(okflg>=1, //no ketjs on
      DrwscrL=Readlines(Dirdrw,Fdr);
      Embeddraw(Fdr,Ftask);
      okflg=0;
    ); //no ketjs off
  );
);

Windispg();


;

</script>
    <script type="text/javascript">
var cdy = CindyJS({
  scripts: "cs*",
  defaultAppearance: {
    dimDependent: 0.7,
    fontFamily: "sans-serif",
    lineSize: 1,
    pointSize: 5.0,
    textsize: 12.0
  },
  angleUnit: "°",
  geometry: [
    {name: "Text1", type: "EditableText", pos: [4.0, 3.9148936170212765, 0.1702127659574468], color: [0.0, 0.0, 0.0], fillcolor: [1.0, 1.0, 1.0], fillalpha: 1.0, minwidth: 500, text: "0615-1", textsize: 24.0},
    {name: "NE", type: "Free", pos: [-2.4, -4.0, -0.8], color: [1.0, 0.0, 0.0], labeled: true},
    {name: "Text2", type: "EditableText", pos: [4.0, -0.8516129032258064, 0.25806451612903225], color: [0.0, 0.0, 0.0], fillcolor: [1.0, 1.0, 1.0], fillalpha: 1.0, minwidth: 580, text: "kettaskv0615-1.html", textsize: 24.0},
    {name: "T1", type: "Free", pos: [-3.5632183908045985, -4.0, -0.2298850574712644], color: [0.0, 0.0, 0.0], labeled: true, size: 6.0, border: false},
    {name: "T2", type: "Free", pos: [4.0, 3.664516129032258, 0.25806451612903225], color: [1.0, 0.784, 0.0], labeled: true, size: 6.0, border: false},
    {name: "T3", type: "Free", pos: [4.0, 2.838709677419355, 0.25806451612903225], color: [0.0, 0.0, 0.0], labeled: true, size: 6.0, border: false},
    {name: "T4", type: "Free", pos: [4.0, 2.0129032258064514, 0.25806451612903225], color: [1.0, 0.784, 0.0], labeled: true, size: 6.0, border: false},
    {name: "SW", type: "Free", pos: [4.0, 0.2, -2.0], color: [1.0, 0.0, 0.0], labeled: true},
    {name: "Text3", type: "EditableText", pos: [4.0, -0.8621236133122027, 0.06339144215530904], color: [0.0, 0.0, 0.0], fillcolor: [1.0, 1.0, 1.0], fillalpha: 1.0, minwidth: 180, text: "St=", textsize: 21.0},
    {name: "Text9", type: "EditableText", pos: [1.7714285714285714, -4.0, 0.11428571428571428], color: [0.0, 0.0, 0.0], fillcolor: [1.0, 1.0, 1.0], fillalpha: 1.0, minwidth: 580, textsize: 24.0},
    {name: "S", type: "Free", pos: [4.0, 0.45714285714285713, 0.11428571428571428], color: [1.0, 0.0, 0.0], labeled: true},
    {name: "O", type: "Free", pos: [4.0, 0.8275862068965517, 0.0689655172413793], color: [1.0, 0.0, 0.0], labeled: true},
    {name: "W", type: "Free", pos: [4.0, -1.0638297872340423, 0.42553191489361697], color: [1.0, 0.0, 0.0], labeled: true},
    {name: "A", type: "Free", pos: [4.0, -0.0, 1.3333333333333333], color: [1.0, 0.0, 0.0], labeled: true, size: 6.0},
    {name: "C", type: "Free", pos: [4.0, 0.0991513967305486, 0.04544060345121384], color: [1.0, 0.0, 0.0], labeled: true, size: 6.0},
    {name: "Text0", type: "Button", color: [0.0, 0.0, 0.0], fillcolor: [0.0, 1.0, 1.0], fillalpha: 0.44, script: "Mkketcindyjs(append(KETJSOP,\"Web=n\"));", text: "Ketjsoff", textsize: 18.0, dock: {corner: "UL", offset: [592.0, -20.0]}},
    {name: "Text7", type: "Button", pos: [-2.0, -4.0, -0.17391304347826086], color: [0.0, 0.0, 0.0], fillcolor: [0.0, 1.0, 0.0], fillalpha: 0.45, script: "ch=1;initflg=1;", text: "1", textsize: 18.0},
    {name: "Text8", type: "Button", pos: [4.0, -1.1478260869565216, 0.34782608695652173], color: [0.0, 0.0, 0.0], fillcolor: [0.0, 1.0, 0.0], fillalpha: 0.45, script: "ch=2;initflg=1;", text: "2", textsize: 18.0},
    {name: "Text120", type: "Button", pos: [4.0, -0.540084388185654, 0.05625879043600563], color: [0.0, 0.0, 0.0], fillcolor: [1.0, 0.0, 0.0], fillalpha: 0.27272728085517883, script: "startflg=1;", text: "Rset", textsize: 16.0},
    {name: "Text19", type: "Button", pos: [4.0, -0.9676511954992967, 0.05625879043600563], color: [0.0, 0.0, 0.0], fillcolor: [0.0, 1.0, 0.0], fillalpha: 0.27272728085517883, script: "okflg=1;", text: "O  K", textsize: 16.0},
    {name: "Text204", type: "Text", pos: [4.0, 0.04193971166448231, 0.05242463958060289], color: [0.0, 0.0, 0.0], fillcolor: [1.0, 1.0, 1.0], fillalpha: 0.2, text: "　　", textsize: 14.0},
    {name: "Text205", type: "Button", pos: [4.0, 0.05414551607445009, 0.0676818950930626], color: [0.0, 0.0, 0.0], fillcolor: [1.0, 1.0, 1.0], fillalpha: 0.27272728085517883, script: "if(ch==2,nf=1,n1=1);", text: "　　", textsize: 14.0},
    {name: "Text206", type: "Button", pos: [4.0, 0.050473186119873815, 0.06309148264984227], color: [0.0, 0.0, 0.0], fillcolor: [1.0, 1.0, 1.0], fillalpha: 0.27272728085517883, script: "if(ch==2,nf=max([1,nf-1]),n1=max([1,n1-1]));", text: "　　", textsize: 14.0},
    {name: "Text207", type: "Button", pos: [4.0, 0.047267355982274745, 0.05908419497784343], color: [0.0, 0.0, 0.0], fillcolor: [1.0, 1.0, 1.0], fillalpha: 0.27272728085517883, script: "if(ch==2,nf=min([nfall,nf+1]),n1=min([n1all,n1+1]));", text: "　　", textsize: 14.0},
    {name: "Text208", type: "Button", pos: [4.0, 0.044444444444444446, 0.05555555555555555], color: [0.0, 0.0, 0.0], fillcolor: [1.0, 1.0, 1.0], fillalpha: 0.27272728085517883, script: "if(ch==2,nf=nfall,n1=n1all);", text: "　　", textsize: 14.0},
    {name: "Text15", type: "Button", color: [0.0, 0.0, 0.0], fillcolor: [0.0, 1.0, 1.0], fillalpha: 0.27272728085517883, script: "typeflg=typeflg+1;\nif(typeflg==4,typeflg=0);", text: "ステップ", textsize: 24.0, dock: {corner: "UL", offset: [159.0, -20.0]}},
    {name: "Text14", type: "Button", color: [0.0, 0.0, 0.0], fillcolor: [0.0, 1.0, 1.0], fillalpha: 0.27272728085517883, script: "if(imdrflg==1,\n  startimflg=1;\n);\nif(imdrflg==2,\n  startdrflg=1;\n);\n", text: "リセット", textsize: 24.0, dock: {corner: "UL", offset: [365.0, -20.0]}},
    {name: "Text12", type: "Button", color: [0.0, 0.0, 0.0], fillcolor: [0.0, 1.0, 1.0], fillalpha: 0.27272728085517883, script: "imdrflg=3-imdrflg;\nif(imdrflg==1,startimflg=1);\nif(imdrflg==2,startdrflg=1);\n", text: "Imag", textsize: 24.0, dock: {corner: "UL", offset: [89.0, -20.0]}},
    {name: "Text6", type: "Button", color: [0.0, 0.0, 0.0], fillcolor: [0.0, 1.0, 1.0], fillalpha: 0.44, script: "Mkketcindyjs(append(KETJSOP,\"Web=y\"));", text: "Ketjson", textsize: 18.0, dock: {corner: "UL", offset: [503.0, -20.0]}},
    {name: "Text13", type: "Button", color: [0.0, 0.0, 0.0], fillcolor: [0.0, 1.0, 1.0], fillalpha: 0.27272728085517883, script: "okflg=1;", text: "実 行", textsize: 24.0, dock: {corner: "UL", offset: [292.0, -20.0]}}
  ],
  behavior: [
    {type: "Environment", friction: 0.13488372093023257}
  ],
  ports: [{
    width: 822,
    height: 570,
    id: "CSCanvas",
    transform: [{visibleRect: [6.909204606126208, 28.72774546757739, 92.3132074066637, -30.494008299218677]}],
    axes: true,
    grid: 5.0,
    snap: true,
    background: "rgb(225,225,225)"
  }],
  csconsole: false,
  images: {
    "001-1.png": "data:image/png;base64,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"
  },
  use: ["katex"],
  cinderella: {build: 2074, version: [3, 0, 2074]}
});
    </script>
</head>
<body>
    <div id="CSCanvas"></div>
</body>
</html>